<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TRX SNIPER BOT - AI BIG/SMALL PREDICTION</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #1a1a2e;
            --secondary: #16213e;
            --accent: #0f4c75;
            --red: #ff4757;
            --green: #2ed573;
            --yellow: #ffa502;
            --blue: #3742fa;
            --purple: #8e44ad;
            --card-bg: rgba(255, 255, 255, 0.05);
            --text: #ffffff;
            --text-secondary: #b0b0b0;
        }
        
        body {
            background: linear-gradient(135deg, #0c2461, #1e3799);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header Styles */
        .header {
            text-align: center;
            padding: 20px 0;
            margin-bottom: 30px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .logo i {
            font-size: 2.5rem;
            color: var(--green);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .logo h1 {
            font-size: 2.2rem;
            background: linear-gradient(90deg, #2ed573, #3742fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(46, 213, 115, 0.3);
        }
        
        .tagline {
            font-size: 1.1rem;
            color: var(--text-secondary);
            margin-bottom: 10px;
        }
        
        /* Stats Cards */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
        }
        
        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 5px;
        }
        
        .stat-card.red::before { background: var(--red); }
        .stat-card.green::before { background: var(--green); }
        .stat-card.blue::before { background: var(--blue); }
        .stat-card.purple::before { background: var(--purple); }
        
        .stat-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 1rem;
            color: var(--text-secondary);
        }
        
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .stat-value.big { color: var(--red); }
        .stat-value.small { color: var(--green); }
        
        .stat-trend {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            margin-top: 5px;
        }
        
        .trend-up { background: rgba(46, 213, 115, 0.2); color: var(--green); }
        .trend-down { background: rgba(255, 71, 87, 0.2); color: var(--red); }
        
        /* Main Prediction Section */
        .prediction-section {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
        }
        
        .section-title {
            font-size: 1.5rem;
            margin-bottom: 25px;
            color: var(--text);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .prediction-display {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .period-info {
            background: rgba(255, 255, 255, 0.05);
            padding: 15px 25px;
            border-radius: 10px;
            font-size: 1.1rem;
        }
        
        .period-number {
            font-family: monospace;
            background: rgba(0, 0, 0, 0.3);
            padding: 5px 10px;
            border-radius: 5px;
            margin-left: 10px;
        }
        
        .prediction-result {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        
        .prediction-badge {
            font-size: 5rem;
            font-weight: bold;
            padding: 20px 40px;
            border-radius: 15px;
            margin: 10px 0;
            position: relative;
            overflow: hidden;
            animation: glow 1.5s infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 20px rgba(255, 71, 87, 0.5); }
            to { box-shadow: 0 0 40px rgba(46, 213, 115, 0.7); }
        }
        
        .prediction-big {
            background: linear-gradient(135deg, #ff4757, #ff3838);
            box-shadow: 0 10px 30px rgba(255, 71, 87, 0.3);
        }
        
        .prediction-small {
            background: linear-gradient(135deg, #2ed573, #1dd1a1);
            box-shadow: 0 10px 30px rgba(46, 213, 115, 0.3);
        }
        
        .confidence-meter {
            width: 100%;
            max-width: 500px;
            margin: 20px 0;
        }
        
        .confidence-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .meter-bar {
            height: 25px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            overflow: hidden;
            position: relative;
        }
        
        .meter-fill {
            height: 100%;
            border-radius: 15px;
            transition: width 1s ease-in-out;
            position: relative;
            overflow: hidden;
        }
        
        .meter-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            animation: shimmer 2s infinite;
        }
        
        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        .meter-fill.high { background: linear-gradient(90deg, #2ed573, #1dd1a1); }
        .meter-fill.medium { background: linear-gradient(90deg, #ffa502, #ff9f1a); }
        .meter-fill.low { background: linear-gradient(90deg, #ff4757, #ff3838); }
        
        .ai-analysis {
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
            text-align: left;
            margin-top: 20px;
            max-width: 800px;
            width: 100%;
        }
        
        .analysis-title {
            color: var(--text-secondary);
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .analysis-content {
            line-height: 1.6;
        }
        
        /* History Section */
        .history-section {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .history-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .history-item {
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s;
            cursor: pointer;
        }
        
        .history-item:hover {
            transform: scale(1.05);
        }
        
        .history-item.big {
            background: rgba(255, 71, 87, 0.15);
            border: 1px solid rgba(255, 71, 87, 0.3);
        }
        
        .history-item.small {
            background: rgba(46, 213, 115, 0.15);
            border: 1px solid rgba(46, 213, 115, 0.3);
        }
        
        .history-period {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 5px;
        }
        
        .history-result {
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        /* Controls */
        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #3742fa, #5352ed);
            color: white;
        }
        
        .btn-success {
            background: linear-gradient(135deg, #2ed573, #1dd1a1);
            color: white;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #ff4757, #ff3838);
            color: white;
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #ffa502, #ff9f1a);
            color: white;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        /* Charts Section */
        .charts-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .chart-container {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        /* Footer */
        .footer {
            text-align: center;
            padding: 30px 0;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
            
            .charts-section {
                grid-template-columns: 1fr;
            }
            
            .prediction-badge {
                font-size: 3.5rem;
                padding: 15px 30px;
            }
            
            .btn {
                padding: 12px 20px;
                font-size: 0.9rem;
            }
        }
        
        /* Loading Animation */
        .loading {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }
        
        .loading.active {
            display: flex;
        }
        
        .spinner {
            width: 60px;
            height: 60px;
            border: 5px solid rgba(255, 255, 255, 0.1);
            border-top: 5px solid var(--green);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <div>AI is analyzing patterns...</div>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <i class="fas fa-robot"></i>
                <h1>TRX SNIPER BOT</h1>
            </div>
            <p class="tagline">AI-Powered BIG/SMALL Prediction System</p>
            <div class="live-status">
                <span class="live-dot"></span> LIVE - AI Model Active
            </div>
        </header>

        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card red">
                <div class="stat-title">
                    <i class="fas fa-chart-line"></i>
                    <span>BIG RATE</span>
                </div>
                <div class="stat-value big" id="bigRate">48.5%</div>
                <div class="stat-trend trend-down">
                    <i class="fas fa-arrow-down"></i> 2.3% from last hour
                </div>
            </div>
            
            <div class="stat-card green">
                <div class="stat-title">
                    <i class="fas fa-chart-bar"></i>
                    <span>SMALL RATE</span>
                </div>
                <div class="stat-value small" id="smallRate">51.5%</div>
                <div class="stat-trend trend-up">
                    <i class="fas fa-arrow-up"></i> 2.3% from last hour
                </div>
            </div>
            
            <div class="stat-card blue">
                <div class="stat-title">
                    <i class="fas fa-brain"></i>
                    <span>AI ACCURACY</span>
                </div>
                <div class="stat-value" id="aiAccuracy">76.8%</div>
                <div class="stat-trend trend-up">
                    <i class="fas fa-arrow-up"></i> Improving
                </div>
            </div>
            
            <div class="stat-card purple">
                <div class="stat-title">
                    <i class="fas fa-bolt"></i>
                    <span>CURRENT STREAK</span>
                </div>
                <div class="stat-value" id="currentStreak">+4</div>
                <div class="stat-trend trend-up">
                    <i class="fas fa-fire"></i> Winning Streak
                </div>
            </div>
        </div>

        <!-- Main Prediction Section -->
        <section class="prediction-section">
            <h2 class="section-title">
                <i class="fas fa-crystal-ball"></i>
                NEXT PREDICTION
            </h2>
            
            <div class="prediction-display">
                <div class="period-info">
                    <span>Current Period:</span>
                    <span class="period-number" id="currentPeriod">20241214100010985</span>
                </div>
                
                <div class="prediction-result">
                    <div class="prediction-badge prediction-big" id="predictionBadge">
                        BIG
                    </div>
                    <div class="confidence-meter">
                        <div class="confidence-label">
                            <span>AI Confidence Level</span>
                            <span id="confidenceValue">78.5%</span>
                        </div>
                        <div class="meter-bar">
                            <div class="meter-fill high" id="confidenceBar" style="width: 78.5%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="ai-analysis">
                    <div class="analysis-title">
                        <i class="fas fa-microscope"></i>
                        AI ANALYSIS
                    </div>
                    <div class="analysis-content" id="aiAnalysis">
                        â€¢ Pattern shows 3 consecutive SMALL results<br>
                        â€¢ Historical data suggests BIG is due<br>
                        â€¢ Win probability increased by 15%<br>
                        â€¢ Model confidence: High<br>
                        â€¢ Recommendation: Strong bet on BIG
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-primary" id="getPrediction">
                    <i class="fas fa-sync-alt"></i> GET NEW PREDICTION
                </button>
                <button class="btn btn-success" id="simulateBig">
                    <i class="fas fa-plus-circle"></i> ADD BIG RESULT
                </button>
                <button class="btn btn-danger" id="simulateSmall">
                    <i class="fas fa-minus-circle"></i> ADD SMALL RESULT
                </button>
                <button class="btn btn-warning" id="resetData">
                    <i class="fas fa-redo"></i> RESET DATA
                </button>
            </div>
        </section>

        <!-- Charts Section -->
        <div class="charts-section">
            <div class="chart-container">
                <h3 class="section-title">
                    <i class="fas fa-chart-pie"></i>
                    DISTRIBUTION ANALYSIS
                </h3>
                <canvas id="distributionChart"></canvas>
            </div>
            
            <div class="chart-container">
                <h3 class="section-title">
                    <i class="fas fa-chart-line"></i>
                    ACCURACY TREND
                </h3>
                <canvas id="accuracyChart"></canvas>
            </div>
        </div>

        <!-- History Section -->
        <section class="history-section">
            <h2 class="section-title">
                <i class="fas fa-history"></i>
                RECENT RESULTS (Last 20)
            </h2>
            <div class="history-grid" id="historyGrid">
                <!-- History items will be added here by JavaScript -->
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p>TRX SNIPER BOT v2.0 | AI Prediction System</p>
            <p>This is a simulation dashboard. Actual results may vary.</p>
            <p>Â© 2024 AI Prediction Lab | Use responsibly</p>
        </footer>
    </div>

    <script>
        // Initialize data
        let gameData = {
            history: [],
            stats: {
                bigCount: 0,
                smallCount: 0,
                totalGames: 0,
                aiAccuracy: 76.8,
                currentStreak: 4,
                recentAccuracy: [65, 70, 72, 75, 76, 78, 80, 77, 76, 78]
            },
            currentPrediction: {
                result: 'BIG',
                confidence: 78.5,
                period: generatePeriodNumber()
            }
        };

        // Load saved data from localStorage
        function loadSavedData() {
            const saved = localStorage.getItem('trxBotData');
            if (saved) {
                gameData = JSON.parse(saved);
                updateDashboard();
            } else {
                // Initialize with sample data
                initializeSampleData();
            }
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('trxBotData', JSON.stringify(gameData));
        }

        // Initialize sample data
        function initializeSampleData() {
            // Generate sample history
            const results = ['BIG', 'SMALL'];
            for (let i = 0; i < 25; i++) {
                const result = results[Math.floor(Math.random() * 2)];
                gameData.history.push({
                    period: generatePeriodNumber(i),
                    result: result,
                    timestamp: new Date(Date.now() - i * 60000).toISOString()
                });
            }
            
            // Calculate stats
            updateStats();
            saveData();
        }

        // Generate period number
        function generatePeriodNumber(offset = 0) {
            const now = new Date(Date.now() - offset * 60000);
            const totalMinutes = now.getUTCHours() * 60 + now.getUTCMinutes();
            return `${now.getUTCFullYear()}${(now.getUTCMonth()+1).toString().padStart(2,'0')}${now.getUTCDate().toString().padStart(2,'0')}1000${10001 + totalMinutes}`;
        }

        // Update all dashboard elements
        function updateDashboard() {
            updateStatsDisplay();
            updatePredictionDisplay();
            updateHistoryDisplay();
            updateCharts();
        }

        // Update statistics display
        function updateStatsDisplay() {
            const total = gameData.stats.totalGames;
            const bigRate = total > 0 ? (gameData.stats.bigCount / total * 100).toFixed(1) : '0.0';
            const smallRate = total > 0 ? (gameData.stats.smallCount / total * 100).toFixed(1) : '0.0';
            
            document.getElementById('bigRate').textContent = `${bigRate}%`;
            document.getElementById('smallRate').textContent = `${smallRate}%`;
            document.getElementById('aiAccuracy').textContent = `${gameData.stats.aiAccuracy.toFixed(1)}%`;
            document.getElementById('currentStreak').textContent = gameData.stats.currentStreak >= 0 ? `+${gameData.stats.currentStreak}` : gameData.stats.currentStreak;
        }

        // Update prediction display
        function updatePredictionDisplay() {
            const prediction = gameData.currentPrediction;
            const badge = document.getElementById('predictionBadge');
            const confidenceBar = document.getElementById('confidenceBar');
            const confidenceValue = document.getElementById('confidenceValue');
            
            // Update badge
            badge.className = `prediction-badge prediction-${prediction.result.toLowerCase()}`;
            badge.textContent = prediction.result;
            
            // Update confidence
            confidenceBar.style.width = `${prediction.confidence}%`;
            confidenceValue.textContent = `${prediction.confidence.toFixed(1)}%`;
            
            // Update period
            document.getElementById('currentPeriod').textContent = prediction.period;
            
            // Update AI analysis
            updateAiAnalysis();
        }

        // Update AI analysis text
        function updateAiAnalysis() {
            const prediction = gameData.currentPrediction;
            const analysis = document.getElementById('aiAnalysis');
            const lastResults = gameData.history.slice(-5).map(h => h.result);
            
            let analysisText = '';
            
            if (prediction.result === 'BIG') {
                analysisText = `â€¢ Pattern shows ${countConsecutive('SMALL')} consecutive SMALL results<br>
                               â€¢ Historical data suggests BIG is due<br>
                               â€¢ Win probability increased by ${Math.floor(Math.random() * 10) + 10}%<br>
                               â€¢ Model confidence: ${getConfidenceLevel(prediction.confidence)}<br>
                               â€¢ Recommendation: ${getRecommendation(prediction.confidence)}`;
            } else {
                analysisText = `â€¢ Pattern shows ${countConsecutive('BIG')} consecutive BIG results<br>
                               â€¢ Historical data suggests SMALL is due<br>
                               â€¢ Win probability increased by ${Math.floor(Math.random() * 10) + 10}%<br>
                               â€¢ Model confidence: ${getConfidenceLevel(prediction.confidence)}<br>
                               â€¢ Recommendation: ${getRecommendation(prediction.confidence)}`;
            }
            
            analysis.innerHTML = analysisText;
        }

        // Helper functions for analysis
        function countConsecutive(type) {
            let count = 0;
            for (let i = gameData.history.length - 1; i >= 0; i--) {
                if (gameData.history[i].result === type) {
                    count++;
                } else {
                    break;
                }
            }
            return count;
        }

        function getConfidenceLevel(confidence) {
            if (confidence >= 70) return 'High';
            if (confidence >= 50) return 'Medium';
            return 'Low';
        }

        function getRecommendation(confidence) {
            if (confidence >= 70) return 'Strong bet';
            if (confidence >= 50) return 'Moderate bet';
            return 'Small bet or skip';
        }

        // Update history display
        function updateHistoryDisplay() {
            const historyGrid = document.getElementById('historyGrid');
            historyGrid.innerHTML = '';
            
            // Show last 20 results
            const recentHistory = gameData.history.slice(-20);
            
            recentHistory.forEach((item, index) => {
                const historyItem = document.createElement('div');
                historyItem.className = `history-item ${item.result.toLowerCase()}`;
                historyItem.innerHTML = `
                    <div class="history-period">${item.period.slice(-5)}</div>
                    <div class="history-result">${item.result === 'BIG' ? 'ðŸ”´' : 'ðŸŸ¢'}</div>
                    <div class="history-time">${formatTime(item.timestamp)}</div>
                `;
                historyGrid.appendChild(historyItem);
            });
        }

        // Format time for display
        function formatTime(timestamp) {
            const date = new Date(timestamp);
            return `${date.getHours().toString().padStart(2,'0')}:${date.getMinutes().toString().padStart(2,'0')}`;
        }

        // Update statistics
        function updateStats() {
            const history = gameData.history;
            gameData.stats.totalGames = history.length;
            gameData.stats.bigCount = history.filter(h => h.result === 'BIG').length;
            gameData.stats.smallCount = history.filter(h => h.result === 'SMALL').length;
            
            // Update streak
            updateStreak();
            
            // Update accuracy (simulated improvement)
            if (history.length > 10) {
                const baseAccuracy = 65 + Math.min(history.length / 100 * 30, 25);
                const randomVariation = (Math.random() - 0.5) * 5;
                gameData.stats.aiAccuracy = Math.min(baseAccuracy + randomVariation, 95);
            }
        }

        // Update winning/losing streak
        function updateStreak() {
            if (gameData.history.length < 2) {
                gameData.stats.currentStreak = 0;
                return;
            }
            
            let streak = 0;
            let lastResult = null;
            
            // Check recent results to determine streak
            const recent = gameData.history.slice(-10);
            for (let i = recent.length - 1; i >= 0; i--) {
                if (lastResult === null) {
                    lastResult = recent[i].result;
                } else if (recent[i].result === lastResult) {
                    streak += (lastResult === 'BIG' ? 1 : -1);
                } else {
                    break;
                }
            }
            
            gameData.stats.currentStreak = streak;
        }

        // Generate new prediction
        function generatePrediction() {
            // Show loading
            document.getElementById('loading').classList.add('active');
            
            // Simulate AI processing time
            setTimeout(() => {
                const history = gameData.history;
                
                // Simple AI logic based on history
                let prediction, confidence;
                
                if (history.length < 5) {
                    // Random prediction if not enough data
                    prediction = Math.random() > 0.5 ? 'BIG' : 'SMALL';
                    confidence = 50 + Math.random() * 20;
                } else {
                    // Analyze last 10 results
                    const recent = history.slice(-10);
                    const bigCount = recent.filter(h => h.result === 'BIG').length;
                    const smallCount = recent.filter(h => h.result === 'SMALL').length;
                    
                    // More sophisticated logic
                    if (bigCount > smallCount + 2) {
                        prediction = 'SMALL'; // Reversal prediction
                        confidence = 60 + Math.random() * 25;
                    } else if (smallCount > bigCount + 2) {
                        prediction = 'BIG'; // Reversal prediction
                        confidence = 60 + Math.random() * 25;
                    } else {
                        // Follow trend
                        prediction = bigCount > smallCount ? 'BIG' : 'SMALL';
                        confidence = 55 + Math.random() * 20;
                    }
                    
                    // Adjust confidence based on streak
                    if (Math.abs(gameData.stats.currentStreak) > 3) {
                        confidence *= 0.9; // Reduce confidence during streaks
                    }
                }
                
                // Ensure confidence is within bounds
                confidence = Math.min(Math.max(confidence, 30), 95);
                
                // Update current prediction
                gameData.currentPrediction = {
                    result: prediction,
                    confidence: parseFloat(confidence.toFixed(1)),
                    period: generatePeriodNumber()
                };
                
                // Hide loading
                document.getElementById('loading').classList.remove('active');
                
                // Update dashboard
                updateDashboard();
                saveData();
                
                // Show notification
                showNotification(`New prediction generated: ${prediction} (${confidence.toFixed(1)}% confidence)`);
            }, 1500);
        }

        // Simulate adding a result
        function addResult(result) {
            const newResult = {
                period: generatePeriodNumber(),
                result: result,
                timestamp: new Date().toISOString()
            };
            
            gameData.history.push(newResult);
            
            // Limit history size
            if (gameData.history.length > 100) {
                gameData.history = gameData.history.slice(-100);
            }
            
            // Update stats
            updateStats();
            
            // Update dashboard
            updateDashboard();
            saveData();
            
            // Show notification
            showNotification(`Added result: ${result}`);
            
            // Check if prediction was correct
            checkPredictionAccuracy(newResult);
        }

        // Check if last prediction was correct
        function checkPredictionAccuracy(actualResult) {
            if (gameData.currentPrediction && gameData.history.length > 1) {
                const predicted = gameData.currentPrediction.result;
                const actual = actualResult.result;
                
                if (predicted === actual) {
                    // Update recent accuracy
                    gameData.stats.recentAccuracy.push(100);
                    if (gameData.stats.recentAccuracy.length > 10) {
                        gameData.stats.recentAccuracy.shift();
                    }
                    
                    showNotification(`âœ… Prediction was CORRECT! ${predicted}`, 'success');
                } else {
                    gameData.stats.recentAccuracy.push(0);
                    if (gameData.stats.recentAccuracy.length > 10) {
                        gameData.stats.recentAccuracy.shift();
                    }
                    
                    showNotification(`âŒ Prediction was WRONG! Predicted ${predicted}, got ${actual}`, 'error');
                }
                
                // Update average accuracy
                const avgAccuracy = gameData.stats.recentAccuracy.reduce((a, b) => a + b, 0) / gameData.stats.recentAccuracy.length;
                gameData.stats.aiAccuracy = parseFloat(avgAccuracy.toFixed(1));
            }
        }

        // Show notification
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 25px;
                border-radius: 10px;
                color: white;
                font-weight: bold;
                z-index: 1000;
                animation: slideIn 0.3s ease;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            `;
            
            if (type === 'success') {
                notification.style.background = 'linear-gradient(135deg, #2ed573, #1dd1a1)';
            } else if (type === 'error') {
                notification.style.background = 'linear-gradient(135deg, #ff4757, #ff3838)';
            } else {
                notification.style.background = 'linear-gradient(135deg, #3742fa, #5352ed)';
            }
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Initialize charts
        let distributionChart, accuracyChart;
        
        function initCharts() {
            // Distribution Chart
            const distCtx = document.getElementById('distributionChart').getContext('2d');
            distributionChart = new Chart(distCtx, {
                type: 'doughnut',
                data: {
                    labels: ['BIG', 'SMALL'],
                    datasets: [{
                        data: [gameData.stats.bigCount, gameData.stats.smallCount],
                        backgroundColor: ['#ff4757', '#2ed573'],
                        borderColor: ['#ff3838', '#1dd1a1'],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#ffffff',
                                font: {
                                    size: 14
                                }
                            }
                        }
                    }
                }
            });
            
            // Accuracy Chart
            const accCtx = document.getElementById('accuracyChart').getContext('2d');
            accuracyChart = new Chart(accCtx, {
                type: 'line',
                data: {
                    labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10'],
                    datasets: [{
                        label: 'AI Accuracy %',
                        data: gameData.stats.recentAccuracy,
                        borderColor: '#2ed573',
                        backgroundColor: 'rgba(46, 213, 115, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#ffffff'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#ffffff'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: '#ffffff',
                                font: {
                                    size: 14
                                }
                            }
                        }
                    }
                }
            });
        }

        // Update charts
        function updateCharts() {
            if (distributionChart && accuracyChart) {
                // Update distribution chart
                distributionChart.data.datasets[0].data = [
                    gameData.stats.bigCount,
                    gameData.stats.smallCount
                ];
                distributionChart.update();
                
                // Update accuracy chart
                accuracyChart.data.datasets[0].data = gameData.stats.recentAccuracy;
                accuracyChart.update();
            }
        }

        // Reset all data
        function resetData() {
            if (confirm('Are you sure you want to reset all data? This cannot be undone.')) {
                gameData = {
                    history: [],
                    stats: {
                        bigCount: 0,
                        smallCount: 0,
                        totalGames: 0,
                        aiAccuracy: 50.0,
                        currentStreak: 0,
                        recentAccuracy: [50, 50, 50, 50, 50, 50, 50, 50, 50, 50]
                    },
                    currentPrediction: {
                        result: 'BIG',
                        confidence: 50.0,
                        period: generatePeriodNumber()
                    }
                };
                
                localStorage.removeItem('trxBotData');
                updateDashboard();
                showNotification('All data has been reset', 'error');
            }
        }

        // Event Listeners
        document.getElementById('getPrediction').addEventListener('click', generatePrediction);
        document.getElementById('simulateBig').addEventListener('click', () => addResult('BIG'));
        document.getElementById('simulateSmall').addEventListener('click', () => addResult('SMALL'));
        document.getElementById('resetData').addEventListener('click', resetData);

        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadSavedData();
            initCharts();
            updateDashboard();
            
            // Auto-update period every minute
            setInterval(() => {
                document.getElementById('currentPeriod').textContent = generatePeriodNumber();
            }, 60000);
            
            // Auto-generate prediction every 2 minutes (for demo)
            setInterval(generatePrediction, 120000);
        });

        // Add CSS for notifications
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOut {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
            
            .live-status {
                display: inline-block;
                background: rgba(46, 213, 115, 0.2);
                padding: 8px 16px;
                border-radius: 20px;
                font-size: 0.9rem;
                margin-top: 10px;
            }
            
            .live-dot {
                display: inline-block;
                width: 8px;
                height: 8px;
                background: #2ed573;
                border-radius: 50%;
                margin-right: 8px;
                animation: pulse 1.5s infinite;
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>